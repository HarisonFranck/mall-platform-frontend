<div class="forgot-password-container">
    <div class="forgot-password-card">
        <div class="forgot-password-brand">
            <mat-icon class="brand-icon">shopping_bag</mat-icon>
            <h1>Mall Platform</h1>
            <h2>Mot de passe oublié</h2>
        </div>

        <div *ngIf="!submitted; else successMessage">
            <p class="instruction-text">
                Entrez votre adresse e-mail et nous vous enverrons un lien pour réinitialiser votre mot de passe.
            </p>

            <form [formGroup]="forgotPasswordForm" (ngSubmit)="onSubmit()" class="forgot-password-form">
                <mat-form-field appearance="outline" class="full-width">
                    <mat-label>Email</mat-label>
                    <input matInput type="email" formControlName="email" placeholder="Ex. utilisateur@exemple.com" />
                    <mat-icon matSuffix>email</mat-icon>
                    <mat-error *ngIf="forgotPasswordForm.get('email')?.hasError('required')">L'e-mail est
                        requis</mat-error>
                    <mat-error *ngIf="forgotPasswordForm.get('email')?.hasError('email')">Adresse e-mail
                        invalide</mat-error>
                </mat-form-field>

                <button mat-flat-button color="primary" type="submit" [disabled]="forgotPasswordForm.invalid"
                    class="submit-button">
                    Envoyer le lien
                </button>
            </form>
        </div>

        <ng-template #successMessage>
            <div class="success-container">
                <mat-icon class="success-icon">check_circle</mat-icon>
                <p>Un lien de réinitialisation a été envoyé à <strong>{{ forgotPasswordForm.get('email')?.value
                        }}</strong>.</p>
                <p>Veuillez consulter votre boîte de réception.</p>
            </div>
        </ng-template>

        <div class="forgot-password-footer">
            <a routerLink="/auth/login" class="back-to-login">
                <mat-icon>arrow_back</mat-icon> Retour à la connexion
            </a>
        </div>
    </div>
</div>